(function(){Bootstrap.BsModalComponent=Ember.Component.extend(Ember.Evented,{layoutName:"components/bs-modal",classNames:["modal"],classNameBindings:["fade","isVis:in","vertical:modal-dialog-center"],attributeBindings:["role","aria-labelledby","isAriaHidden:aria-hidden","ariaLabelledBy:aria-labelledby"],isAriaHidden:function(){return""+this.get("isVisible")}.property("isVisible"),dialogStyle:function(){Ember.run.scheduleOnce("afterRender",this,function(){return this.$()?this.$().find(".modal-dialog").css("z-index",this.get("zindex")):void 0})}.observes("zindex"),backdropStyle:function(){return"z-index: "+(this.get("zindex")-2)+";"}.property("zindex"),modalBackdrop:'<div class="modal-backdrop fade in"></div>',role:"dialog",footerViews:[],backdrop:!0,title:null,isVisible:!1,manual:!1,isVis:!1,fullSizeButtons:!1,fade:!0,vertical:!1,zindex:1e3,didInsertElement:function(){var a;return this._super(),this.setupBinders(),a=this.get("name"),Ember.assert("Modal name is required for modal view "+this.get("elementId"),this.get("name")),null==a&&(a=this.get("elementId")),Bootstrap.ModalManager.add(a,this),this.dialogStyle(),this.manual?this.show():void 0},becameVisible:function(){return Em.$("body").addClass("modal-open")},becameHidden:function(){return Em.$("body").removeClass("modal-open")},appendBackdrop:function(){var a;return a=this.$().parent(),this._backdrop=Em.$(this.modalBackdrop).appendTo(a)},show:function(){var a;this.set("isVisible",!0),a=this,setTimeout(function(){a.set("isVis",!0)},15)},hide:function(){var a;return this.set("isVis",!1),a=this,this.get("fade")?this.$().one("webkitTransitionEnd",function(){a.set("isVisible",!1)}):a.set("isVisible",!1),!1},toggle:function(){return this.toggleProperty("isVisible")},click:function(a){var b,c;return b=a.target,c=b.getAttribute("data-dismiss"),"modal"===c?this.close():void 0},keyPressed:function(a){return 27===a.keyCode?this.close(a):void 0},close:function(){var a;return this.set("isVis",!1),a=this,this.get("fade")?this.$().one("webkitTransitionEnd",function(){a.get("manual")?a.destroy():a.hide()}):a.hide(),this.trigger("closed",this)},willDestroyElement:function(){var a;return Em.$("body").removeClass("modal-open"),this.removeHandlers(),a=this.get("name"),null==a&&(a=this.get("elementId")),Bootstrap.ModalManager.remove(a,this),this._backdrop?this._backdrop.remove():void 0},removeHandlers:function(){return jQuery(window.document).unbind("keyup",this._keyUpHandler)},setupBinders:function(){var a,b=this;return a=function(a){return b.keyPressed(a)},jQuery(window.document).bind("keyup",a),this._keyUpHandler=a}}),Bootstrap.ModalManager=Ember.Object.createWithMixins(Ember.Evented,{add:function(a,b){var c;return c=this.get("zindex"),this.set("zindex",c+2),b.set("zindex",c+2),b.on("closed",function(a){return c=a.get("zindex"),c===Bootstrap.ModalManager.get("zindex")&&Bootstrap.ModalManager.set("zindex",c-2),Bootstrap.ModalManager.trigger("closed",a)}),this.set(a,b)},register:function(a,b){return this.add(a,b),b.appendTo(b.get("targetObject").namespace.rootElement)},remove:function(a){return this.set(a,null)},close:function(a){return this.get(a).close()},hide:function(a){return this.get(a).hide()},show:function(a){return this.get(a).show()},toggle:function(a){return this.get(a).toggle()},confirm:function(a,b,c,d,e,f,g,h,i,j){var k,l;return null==e&&(e="Confirm"),null==f&&(f="modalConfirmed"),null==g&&(g=null),null==h&&(h="Cancel"),null==i&&(i="modalCanceled"),null==j&&(j=null),k=Ember.View.extend({template:Ember.Handlebars.compile(c||"Are you sure you would like to perform this action?")}),l=[Ember.Object.create({title:e,clicked:f,type:g,dismiss:"modal"}),Ember.Object.create({title:h,clicked:i,type:j,dismiss:"modal"})],this.open("confirm-modal",b||"Confirmation required!",k,l,a,d)},okModal:function(a,b,c,d,e,f,g){var h,i;return null==d&&(d="OK"),null==e&&(e="okModal"),null==f&&(f=null),h=Ember.View.extend({template:Ember.Handlebars.compile(c||"Are you sure you would like to perform this action?")}),i=[Ember.Object.create({title:d,clicked:e,type:f,dismiss:"modal"})],this.open("ok-modal",b||"Confirmation required!",h,i,a,g)},openModal:function(a,b){var c,d;return null==b&&(b={}),d=b.rootElement||".ember-application",c=a.create(b),c.appendTo(d)},openManual:function(a,b,c,d,e,f){var g;return g=Ember.View.extend({template:Ember.Handlebars.compile(c),controller:e}),this.open(a,b,g,d,e,f)},open:function(a,b,c,d,e,f){var g,h,i,j;return g=void 0,h=void 0,j=void 0,null==f&&(f={}),null==f.fade&&(f.fade=this.get("fade")),null==f.fullSizeButtons&&(f.fullSizeButtons=this.get("fullSizeButtons")),null==f.targetObject&&(f.targetObject=e),null==f.vertical&&(f.vertical=this.get("vertical")),g=e.container.lookup("component-lookup:main"),h=g.lookupFactory("bs-modal",e.get("container")).create(),h.setProperties({name:a,title:b,manual:!0,footerButtons:d}),h.setProperties(f),"string"===Ember.typeOf(c)?(j=e.container.lookup("template:"+c),Ember.assert("Template "+c+" was specified for Modal but template could not be found.",j),j&&h.setProperties({body:Ember.View.extend({template:j,controller:e})})):"class"===Ember.typeOf(c)&&h.setProperties({body:c,controller:e}),i=e.rootElement,"undefined"==typeof e.rootElement&&(i=e.namespace.rootElement),h.appendTo(i)},fade:!0,fullSizeButtons:!1,vertical:!1,zindex:1e3}),Ember.Application.initializer({name:"bs-modal",initialize:function(a){return a.register("component:bs-modal",Bootstrap.BsModalComponent)}})}).call(this),Ember.TEMPLATES["components/bs-modal"]=Ember.HTMLBars.template(function(){var a=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(a){var b=a.createDocumentFragment(),c=a.createTextNode("                    ");a.appendChild(b,c);var c=a.createElement("i");a.appendChild(b,c);var c=a.createTextNode("\n");return a.appendChild(b,c),b},render:function(a,b,c){var d=b.dom,e=b.hooks,f=e.element;d.detectNamespace(c);var g;b.useFragmentCache&&d.canClone?(null===this.cachedFragment&&(g=this.build(d),this.hasRendered?this.cachedFragment=g:this.hasRendered=!0),this.cachedFragment&&(g=d.cloneNode(this.cachedFragment,!0))):g=this.build(d);var h=d.childAt(g,[1]);return f(b,h,a,"bind-attr",[],{"class":"titleIconClasses"}),g}}}(),b=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(a){var b=a.createDocumentFragment(),c=a.createTextNode("                ");a.appendChild(b,c);var c=a.createTextNode("\n");return a.appendChild(b,c),b},render:function(a,b,c){var d=b.dom,e=b.hooks,f=e.get,g=e.inline;d.detectNamespace(c);var h;b.useFragmentCache&&d.canClone?(null===this.cachedFragment&&(h=this.build(d),this.hasRendered?this.cachedFragment=h:this.hasRendered=!0),this.cachedFragment&&(h=d.cloneNode(this.cachedFragment,!0))):h=this.build(d);var i=d.createMorphAt(h,0,1,c);return g(b,i,a,"view",[f(b,a,"view.body")],{}),h}}}(),c=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(a){var b=a.createDocumentFragment(),c=a.createTextNode("                ");a.appendChild(b,c);var c=a.createTextNode("\n");return a.appendChild(b,c),b},render:function(a,b,c){var d=b.dom,e=b.hooks,f=e.content;d.detectNamespace(c);var g;b.useFragmentCache&&d.canClone?(null===this.cachedFragment&&(g=this.build(d),this.hasRendered?this.cachedFragment=g:this.hasRendered=!0),this.cachedFragment&&(g=d.cloneNode(this.cachedFragment,!0))):g=this.build(d);var h=d.createMorphAt(g,0,1,c);return f(b,h,a,"yield"),g}}}(),d=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(a){var b=a.createDocumentFragment(),c=a.createTextNode("                ");a.appendChild(b,c);var c=a.createTextNode("\n");return a.appendChild(b,c),b},render:function(a,b,c){var d=b.dom,e=b.hooks,f=e.get,g=e.inline;d.detectNamespace(c);var h;b.useFragmentCache&&d.canClone?(null===this.cachedFragment&&(h=this.build(d),this.hasRendered?this.cachedFragment=h:this.hasRendered=!0),this.cachedFragment&&(h=d.cloneNode(this.cachedFragment,!0))):h=this.build(d);var i=d.createMorphAt(h,0,1,c);return g(b,i,a,"bs-button",[],{content:f(b,a,"this"),targetObjectBinding:"view.targetObject"}),h}}}(),e=function(){return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(a){var b=a.createDocumentFragment(),c=a.createTextNode("                ");a.appendChild(b,c);var c=a.createTextNode("\n");return a.appendChild(b,c),b},render:function(a,b,c){var d=b.dom,e=b.hooks,f=e.get,g=e.inline;d.detectNamespace(c);var h;b.useFragmentCache&&d.canClone?(null===this.cachedFragment&&(h=this.build(d),this.hasRendered?this.cachedFragment=h:this.hasRendered=!0),this.cachedFragment&&(h=d.cloneNode(this.cachedFragment,!0))):h=this.build(d);var i=d.createMorphAt(h,0,1,c);return g(b,i,a,"view",[f(b,a,"this")],{}),h}}}();return{isHTMLBars:!0,blockParams:0,cachedFragment:null,hasRendered:!1,build:function(a){var b=a.createDocumentFragment(),c=a.createElement("div");a.setAttribute(c,"class","modal-dialog");var d=a.createTextNode("\n    ");a.appendChild(c,d);var d=a.createElement("div");a.setAttribute(d,"class","modal-content");var e=a.createTextNode("\n        ");a.appendChild(d,e);var e=a.createElement("div");a.setAttribute(e,"class","modal-header");var f=a.createTextNode("\n            ");a.appendChild(e,f);var f=a.createElement("button");a.setAttribute(f,"type","button"),a.setAttribute(f,"data-dismiss","modal"),a.setAttribute(f,"aria-hidden","true");var g=a.createTextNode("Ã—");a.appendChild(f,g),a.appendChild(e,f);var f=a.createTextNode("\n            ");a.appendChild(e,f);var f=a.createElement("h4");a.setAttribute(f,"class","modal-title");var g=a.createTextNode("\n");a.appendChild(f,g);var g=a.createTextNode("                ");a.appendChild(f,g);var g=a.createTextNode("\n            ");a.appendChild(f,g),a.appendChild(e,f);var f=a.createTextNode("\n        ");a.appendChild(e,f),a.appendChild(d,e);var e=a.createTextNode("\n        ");a.appendChild(d,e);var e=a.createElement("div");a.setAttribute(e,"class","modal-body");var f=a.createTextNode("\n");a.appendChild(e,f);var f=a.createTextNode("        ");a.appendChild(e,f),a.appendChild(d,e);var e=a.createTextNode("\n        ");a.appendChild(d,e);var e=a.createElement("div"),f=a.createTextNode("\n");a.appendChild(e,f);var f=a.createTextNode("");a.appendChild(e,f);var f=a.createTextNode("        ");a.appendChild(e,f),a.appendChild(d,e);var e=a.createTextNode("\n    ");a.appendChild(d,e),a.appendChild(c,d);var d=a.createTextNode("\n");a.appendChild(c,d),a.appendChild(b,c);var c=a.createTextNode("\n\n");a.appendChild(b,c);var c=a.createElement("div");return a.appendChild(b,c),b},render:function(f,g,h){var i=g.dom,j=g.hooks,k=j.element,l=j.get,m=j.block,n=j.content;i.detectNamespace(h);var o;g.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(o=this.build(i),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=i.cloneNode(this.cachedFragment,!0))):o=this.build(i);var p=i.childAt(o,[0,1]),q=i.childAt(p,[1]),r=i.childAt(q,[1]),s=i.childAt(q,[3]),t=i.childAt(p,[5]);this.cachedFragment&&i.repairClonedNode(t,[1]);var u=i.childAt(o,[2]),v=i.createMorphAt(s,0,1),w=i.createUnsafeMorphAt(s,1,2),x=i.createMorphAt(i.childAt(p,[3]),0,1),y=i.createMorphAt(t,0,1),z=i.createMorphAt(t,1,2);return k(g,r,f,"bind-attr",[],{"class":":close allowClose::hide"}),m(g,v,f,"if",[l(g,f,"titleIconClasses")],{},a,null),n(g,w,f,"title"),m(g,x,f,"if",[l(g,f,"body")],{},b,c),k(g,t,f,"bind-attr",[],{"class":":modal-footer fullSizeButtons:modal-footer-full"}),m(g,y,f,"each",[l(g,f,"footerButtons")],{},d,null),m(g,z,f,"each",[l(g,f,"footerViews")],{},e,null),k(g,u,f,"bind-attr",[],{style:l(g,f,"backdropStyle"),"class":":modal-backdrop :fade backdrop:in"}),o}}}());